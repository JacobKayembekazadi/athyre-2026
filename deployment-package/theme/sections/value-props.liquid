{% schema %}
{
  "name": "Value Propositions",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "options": [
        {
          "value": "1",
          "label": "Light"
        },
        {
          "value": "2",
          "label": "Dark"
        },
        {
          "value": "3",
          "label": "Accent"
        }
      ],
      "default": "1"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Why Athyre"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout",
      "options": [
        {
          "value": "row",
          "label": "Row (horizontal)"
        },
        {
          "value": "grid",
          "label": "Grid (2x2)"
        }
      ],
      "default": "row"
    },
    {
      "type": "checkbox",
      "id": "show_dividers",
      "label": "Show dividers between items",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "value",
      "name": "Value Prop",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon image",
          "info": "60x60px recommended. Leave blank for text-only."
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Free Shipping"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description",
          "default": "On all orders over $100"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Value Propositions",
      "blocks": [
        {
          "type": "value",
          "settings": {
            "title": "Free Shipping",
            "text": "On all orders over $100"
          }
        },
        {
          "type": "value",
          "settings": {
            "title": "Mindful Materials",
            "text": "Sustainable, performance-grade fabrics"
          }
        },
        {
          "type": "value",
          "settings": {
            "title": "Easy Returns",
            "text": "30-day return policy, no questions"
          }
        },
        {
          "type": "value",
          "settings": {
            "title": "Secure Checkout",
            "text": "Encrypted payments, always protected"
          }
        }
      ]
    }
  ]
}
{% endschema %}

<div class="color-scheme-{{ section.settings.color_scheme }} py-12 md:py-16 px-4 md:px-8">
  <div class="max-w-7xl mx-auto">

    {% if section.settings.heading != blank %}
      <h2 class="text-[10px] uppercase tracking-[0.3em] text-center opacity-60 mb-10">{{ section.settings.heading }}</h2>
    {% endif %}

    {% if section.blocks.size > 0 %}
      <div class="{% if section.settings.layout == 'row' %}flex flex-wrap justify-center{% else %}grid grid-cols-2 md:grid-cols-{{ section.blocks.size | at_most: 4 }}{% endif %} gap-8 md:gap-12">
        {% for block in section.blocks %}
          <div class="{% if section.settings.layout == 'row' %}flex-1 min-w-[200px] max-w-[280px] text-center{% else %}text-center{% endif %} {% if section.settings.show_dividers and section.settings.layout == 'row' and forloop.last == false %}border-r border-current/10 pr-12{% endif %}" {{ block.shopify_attributes }}>
            {% if block.settings.icon %}
              <div class="mb-4 flex justify-center">
                {{ block.settings.icon | image_url: width: 60 | image_tag: class: 'w-10 h-10 md:w-12 md:h-12' }}
              </div>
            {% endif %}
            {% if block.settings.title != blank %}
              <h3 class="text-xs font-bold uppercase tracking-[0.15em] mb-2">{{ block.settings.title }}</h3>
            {% endif %}
            {% if block.settings.text != blank %}
              <p class="text-xs opacity-60 leading-relaxed">{{ block.settings.text }}</p>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% endif %}

  </div>
</div>
