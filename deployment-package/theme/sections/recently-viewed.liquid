{% schema %}
{
  "name": "Recently Viewed",
  "settings": [
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "1",
      "options": [
        {
          "value": "1",
          "label": "Scheme 1 (Light)"
        },
        {
          "value": "2",
          "label": "Scheme 2 (Dark)"
        },
        {
          "value": "3",
          "label": "Scheme 3 (Accent)"
        }
      ]
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Recently Viewed"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 4,
      "max": 8,
      "step": 1,
      "default": 4,
      "label": "Products to show"
    }
  ],
  "presets": [
    {
      "name": "Recently Viewed"
    }
  ]
}
{% endschema %}

<section 
  class="color-scheme-{{ section.settings.color_scheme }} py-16 px-8"
  data-recently-viewed
  data-current-handle="{{ product.handle | default: '' }}"
  style="display: none;"
>
  <div class="max-w-7xl mx-auto">
    {% if section.settings.heading != blank %}
      <header class="text-center mb-12">
        <h2 class="text-[11px] uppercase tracking-[0.6em] text-stone-400 font-black">{{ section.settings.heading }}</h2>
      </header>
    {% endif %}

    <div 
      class="grid grid-cols-2 md:grid-cols-{{ section.settings.products_to_show }} gap-6"
      data-recently-viewed-products
    >
      {%- comment -%} Products will be injected via JavaScript {%- endcomment -%}
    </div>
  </div>
</section>

<script src="{{ 'recently-viewed.js' | asset_url }}" defer></script>
